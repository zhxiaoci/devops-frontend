"use strict";(self.webpackChunkgithub_devops_frontend=self.webpackChunkgithub_devops_frontend||[]).push([[3052],{75822:(e,t,n)=>{n.d(t,{A:()=>k});var r=n(58168),i=n(64467),o=n(5544),a=n(80045),s=n(54017),l=n(98139),u=n.n(l),c=n(13758),d=n(65043),f=n(25001),v=n(45818),g=f.A.ESC,p=f.A.TAB;const m=(0,d.forwardRef)((function(e,t){var n=e.overlay,r=e.arrow,i=e.prefixCls,o=(0,d.useMemo)((function(){return"function"===typeof n?n():n}),[n]),a=(0,c.K4)(t,null===o||void 0===o?void 0:o.ref);return d.createElement(d.Fragment,null,r&&d.createElement("div",{className:"".concat(i,"-arrow")}),d.cloneElement(o,{ref:(0,c.f3)(o)?a:void 0}))}));var A={adjustX:1,adjustY:1},h=[0,0];const F={topLeft:{points:["bl","tl"],overflow:A,offset:[0,-4],targetOffset:h},top:{points:["bc","tc"],overflow:A,offset:[0,-4],targetOffset:h},topRight:{points:["br","tr"],overflow:A,offset:[0,-4],targetOffset:h},bottomLeft:{points:["tl","bl"],overflow:A,offset:[0,4],targetOffset:h},bottom:{points:["tc","bc"],overflow:A,offset:[0,4],targetOffset:h},bottomRight:{points:["tr","br"],overflow:A,offset:[0,4],targetOffset:h}};var y=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function C(e,t){var n,l=e.arrow,f=void 0!==l&&l,A=e.prefixCls,h=void 0===A?"rc-dropdown":A,C=e.transitionName,k=e.animation,w=e.align,b=e.placement,V=void 0===b?"bottomLeft":b,R=e.placements,P=void 0===R?F:R,E=e.getPopupContainer,x=e.showAction,M=e.hideAction,N=e.overlayClassName,O=e.overlayStyle,L=e.visible,T=e.trigger,I=void 0===T?["hover"]:T,S=e.autoFocus,H=e.overlay,_=e.children,W=e.onVisibleChange,D=(0,a.A)(e,y),K=d.useState(),U=(0,o.A)(K,2),X=U[0],j=U[1],z="visible"in e?L:X,B=d.useRef(null),$=d.useRef(null),Y=d.useRef(null);d.useImperativeHandle(t,(function(){return B.current}));var q=function(e){j(e),null===W||void 0===W||W(e)};!function(e){var t=e.visible,n=e.triggerRef,r=e.onVisibleChange,i=e.autoFocus,o=e.overlayRef,a=d.useRef(!1),s=function(){var e,i;t&&(null===(e=n.current)||void 0===e||null===(i=e.focus)||void 0===i||i.call(e),null===r||void 0===r||r(!1))},l=function(){var e;return!(null===(e=o.current)||void 0===e||!e.focus)&&(o.current.focus(),a.current=!0,!0)},u=function(e){switch(e.keyCode){case g:s();break;case p:var t=!1;a.current||(t=l()),t?e.preventDefault():s()}};d.useEffect((function(){return t?(window.addEventListener("keydown",u),i&&(0,v.A)(l,3),function(){window.removeEventListener("keydown",u),a.current=!1}):function(){a.current=!1}}),[t])}({visible:z,triggerRef:Y,onVisibleChange:q,autoFocus:S,overlayRef:$});var G=function(){return d.createElement(m,{ref:$,overlay:H,prefixCls:h,arrow:f})},J=d.cloneElement(_,{className:u()(null===(n=_.props)||void 0===n?void 0:n.className,z&&function(){var t=e.openClassName;return void 0!==t?t:"".concat(h,"-open")}()),ref:(0,c.f3)(_)?(0,c.K4)(Y,_.ref):void 0}),Q=M;return Q||-1===I.indexOf("contextMenu")||(Q=["click"]),d.createElement(s.A,(0,r.A)({builtinPlacements:P},D,{prefixCls:h,ref:B,popupClassName:u()(N,(0,i.A)({},"".concat(h,"-show-arrow"),f)),popupStyle:O,action:I,showAction:x,hideAction:Q,popupPlacement:V,popupAlign:w,popupTransitionName:C,popupAnimation:k,popupVisible:z,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof H?G:G(),onPopupVisibleChange:q,onPopupClick:function(t){var n=e.onOverlayClick;j(!1),n&&n(t)},getPopupContainer:E}),J)}const k=d.forwardRef(C)},25149:(e,t,n)=>{n.d(t,{A:()=>s,c:()=>o});var r=n(97907),i=n(65043),o="RC_FORM_INTERNAL_HOOKS",a=function(){(0,r.Ay)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const s=i.createContext({getFieldValue:a,getFieldsValue:a,getFieldError:a,getFieldWarning:a,getFieldsError:a,isFieldsTouched:a,isFieldTouched:a,isFieldValidating:a,isFieldsValidating:a,resetFields:a,setFields:a,setFieldValue:a,setFieldsValue:a,validateFields:a,submit:a,getInternalHooks:function(){return a(),{dispatch:a,initEntityValue:a,registerField:a,useSubscribe:a,setInitialValues:a,destroyForm:a,setCallbacks:a,registerWatch:a,getFields:a,setValidateMessages:a,setPreserve:a,getInitialValue:a}}})},10649:(e,t,n)=>{n.d(t,{D0:()=>E,_z:()=>F.A,Op:()=>L,B8:()=>x,EF:()=>y,Ay:()=>W,mN:()=>M.A,FH:()=>H.A});var r=n(65043),i=n(58168),o=n(80045),a=n(90675),s=n(10467),l=n(89379),u=n(60436),c=n(23029),d=n(92901),f=n(9417),v=n(85501),g=n(49640),p=n(64467),m=n(62149),A=n(2231),h=n(97907),F=n(25149);const y=r.createContext(null);var C=n(93664),k=n(52654),w=n(23991),b=["name"],V=[];function R(e,t,n,r,i,o){return"function"===typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==i}var P=function(e){(0,v.A)(n,e);var t=(0,g.A)(n);function n(e){var i;((0,c.A)(this,n),i=t.call(this,e),(0,p.A)((0,f.A)(i),"state",{resetCount:0}),(0,p.A)((0,f.A)(i),"cancelRegisterFunc",null),(0,p.A)((0,f.A)(i),"mounted",!1),(0,p.A)((0,f.A)(i),"touched",!1),(0,p.A)((0,f.A)(i),"dirty",!1),(0,p.A)((0,f.A)(i),"validatePromise",void 0),(0,p.A)((0,f.A)(i),"prevValidating",void 0),(0,p.A)((0,f.A)(i),"errors",V),(0,p.A)((0,f.A)(i),"warnings",V),(0,p.A)((0,f.A)(i),"cancelRegister",(function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,(0,w.XK)(r)),i.cancelRegisterFunc=null})),(0,p.A)((0,f.A)(i),"getNamePath",(function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName,r=void 0===n?[]:n;return void 0!==t?[].concat((0,u.A)(r),(0,u.A)(t)):[]})),(0,p.A)((0,f.A)(i),"getRules",(function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))})),(0,p.A)((0,f.A)(i),"refresh",(function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))})),(0,p.A)((0,f.A)(i),"metaCache",null),(0,p.A)((0,f.A)(i),"triggerMetaEvent",(function(e){var t=i.props.onMetaChange;if(t){var n=(0,l.A)((0,l.A)({},i.getMeta()),{},{destroy:e});(0,A.A)(i.metaCache,n)||t(n),i.metaCache=n}else i.metaCache=null})),(0,p.A)((0,f.A)(i),"onStoreChange",(function(e,t,n){var r=i.props,o=r.shouldUpdate,a=r.dependencies,s=void 0===a?[]:a,l=r.onReset,u=n.store,c=i.getNamePath(),d=i.getValue(e),f=i.getValue(u),v=t&&(0,w.Ah)(t,c);switch("valueUpdate"!==n.type||"external"!==n.source||(0,A.A)(d,f)||(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=V,i.warnings=V,i.triggerMetaEvent()),n.type){case"reset":if(!t||v)return i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=V,i.warnings=V,i.triggerMetaEvent(),null===l||void 0===l||l(),void i.refresh();break;case"remove":if(o&&R(o,e,u,d,f,n))return void i.reRender();break;case"setField":var g=n.data;if(v)return"touched"in g&&(i.touched=g.touched),"validating"in g&&!("originRCField"in g)&&(i.validatePromise=g.validating?Promise.resolve([]):null),"errors"in g&&(i.errors=g.errors||V),"warnings"in g&&(i.warnings=g.warnings||V),i.dirty=!0,i.triggerMetaEvent(),void i.reRender();if("value"in g&&(0,w.Ah)(t,c,!0))return void i.reRender();if(o&&!c.length&&R(o,e,u,d,f,n))return void i.reRender();break;case"dependenciesUpdate":if(s.map(w.XK).some((function(e){return(0,w.Ah)(n.relatedFields,e)})))return void i.reRender();break;default:if(v||(!s.length||c.length||o)&&R(o,e,u,d,f,n))return void i.reRender()}!0===o&&i.reRender()})),(0,p.A)((0,f.A)(i),"validateRules",(function(e){var t=i.getNamePath(),n=i.getValue(),r=e||{},o=r.triggerName,l=r.validateOnly,c=void 0!==l&&l,d=Promise.resolve().then((0,s.A)((0,a.A)().mark((function r(){var s,l,c,f,v,g,p;return(0,a.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i.mounted){r.next=2;break}return r.abrupt("return",[]);case 2:if(s=i.props,l=s.validateFirst,c=void 0!==l&&l,f=s.messageVariables,v=s.validateDebounce,g=i.getRules(),o&&(g=g.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||(0,C.$)(t).includes(o)}))),!v||!o){r.next=10;break}return r.next=8,new Promise((function(e){setTimeout(e,v)}));case 8:if(i.validatePromise===d){r.next=10;break}return r.abrupt("return",[]);case 10:return(p=(0,k.W)(t,n,g,e,c,f)).catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V;if(i.validatePromise===d){var t;i.validatePromise=null;var n=[],r=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,i=e.errors,o=void 0===i?V:i;t?r.push.apply(r,(0,u.A)(o)):n.push.apply(n,(0,u.A)(o))})),i.errors=n,i.warnings=r,i.triggerMetaEvent(),i.reRender()}})),r.abrupt("return",p);case 13:case"end":return r.stop()}}),r)}))));return c||(i.validatePromise=d,i.dirty=!0,i.errors=V,i.warnings=V,i.triggerMetaEvent(),i.reRender()),d})),(0,p.A)((0,f.A)(i),"isFieldValidating",(function(){return!!i.validatePromise})),(0,p.A)((0,f.A)(i),"isFieldTouched",(function(){return i.touched})),(0,p.A)((0,f.A)(i),"isFieldDirty",(function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(F.c).getInitialValue)(i.getNamePath())})),(0,p.A)((0,f.A)(i),"getErrors",(function(){return i.errors})),(0,p.A)((0,f.A)(i),"getWarnings",(function(){return i.warnings})),(0,p.A)((0,f.A)(i),"isListField",(function(){return i.props.isListField})),(0,p.A)((0,f.A)(i),"isList",(function(){return i.props.isList})),(0,p.A)((0,f.A)(i),"isPreserve",(function(){return i.props.preserve})),(0,p.A)((0,f.A)(i),"getMeta",(function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:null===i.validatePromise}})),(0,p.A)((0,f.A)(i),"getOnlyChild",(function(e){if("function"===typeof e){var t=i.getMeta();return(0,l.A)((0,l.A)({},i.getOnlyChild(e(i.getControlled(),t,i.props.fieldContext))),{},{isFunction:!0})}var n=(0,m.A)(e);return 1===n.length&&r.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}})),(0,p.A)((0,f.A)(i),"getValue",(function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return(0,w._W)(e||t(!0),n)})),(0,p.A)((0,f.A)(i),"getControlled",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.name,r=t.trigger,o=t.validateTrigger,a=t.getValueFromEvent,s=t.normalize,u=t.valuePropName,c=t.getValueProps,d=t.fieldContext,f=void 0!==o?o:d.validateTrigger,v=i.getNamePath(),g=d.getInternalHooks,m=d.getFieldsValue,A=g(F.c).dispatch,h=i.getValue(),y=c||function(e){return(0,p.A)({},u,e)},k=e[r],b=void 0!==n?y(h):{};var V=(0,l.A)((0,l.A)({},e),b);return V[r]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=a?a.apply(void 0,n):w.HP.apply(void 0,[u].concat(n)),s&&(e=s(e,h,m(!0))),e!==h&&A({type:"updateValue",namePath:v,value:e}),k&&k.apply(void 0,n)},(0,C.$)(f||[]).forEach((function(e){var t=V[e];V[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&A({type:"validateField",namePath:v,triggerName:e})}})),V})),e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(F.c).initEntityValue)((0,f.A)(i));return i}return(0,d.A)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(F.c).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,i=this.getOnlyChild(n),o=i.child;return i.isFunction?e=o:r.isValidElement(o)?e=r.cloneElement(o,this.getControlled(o.props)):((0,h.Ay)(!o,"`children` of Field is not validate ReactElement."),e=o),r.createElement(r.Fragment,{key:t},e)}}]),n}(r.Component);(0,p.A)(P,"contextType",F.A),(0,p.A)(P,"defaultProps",{trigger:"onChange",valuePropName:"value"});const E=function(e){var t=e.name,n=(0,o.A)(e,b),a=r.useContext(F.A),s=r.useContext(y),l=void 0!==t?(0,w.XK)(t):void 0,u="keep";return n.isListField||(u="_".concat((l||[]).join("_"))),r.createElement(P,(0,i.A)({key:u,name:l,isListField:!!s},n,{fieldContext:a}))};const x=function(e){var t=e.name,n=e.initialValue,i=e.children,o=e.rules,a=e.validateTrigger,s=e.isListField,c=r.useContext(F.A),d=r.useContext(y),f=r.useRef({keys:[],id:0}).current,v=r.useMemo((function(){var e=(0,w.XK)(c.prefixName)||[];return[].concat((0,u.A)(e),(0,u.A)((0,w.XK)(t)))}),[c.prefixName,t]),g=r.useMemo((function(){return(0,l.A)((0,l.A)({},c),{},{prefixName:v})}),[c,v]),p=r.useMemo((function(){return{getKey:function(e){var t=v.length,n=e[t];return[f.keys[n],e.slice(t+1)]}}}),[v]);return"function"!==typeof i?((0,h.Ay)(!1,"Form.List only accepts function as children."),null):r.createElement(y.Provider,{value:p},r.createElement(F.A.Provider,{value:g},r.createElement(E,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:o,validateTrigger:a,initialValue:n,isList:!0,isListField:null!==s&&void 0!==s?s:!!d},(function(e,t){var n=e.value,r=void 0===n?[]:n,o=e.onChange,a=c.getFieldValue,s=function(){return a(v||[])||[]},l={add:function(e,t){var n=s();t>=0&&t<=n.length?(f.keys=[].concat((0,u.A)(f.keys.slice(0,t)),[f.id],(0,u.A)(f.keys.slice(t))),o([].concat((0,u.A)(n.slice(0,t)),[e],(0,u.A)(n.slice(t))))):(f.keys=[].concat((0,u.A)(f.keys),[f.id]),o([].concat((0,u.A)(n),[e]))),f.id+=1},remove:function(e){var t=s(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(f.keys=f.keys.filter((function(e,t){return!n.has(t)})),o(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=s();e<0||e>=n.length||t<0||t>=n.length||(f.keys=(0,w.Cy)(f.keys,e,t),o((0,w.Cy)(n,e,t)))}}},d=r||[];return Array.isArray(d)||(d=[]),i(d.map((function(e,t){var n=f.keys[t];return void 0===n&&(f.keys[t]=f.id,n=f.keys[t],f.id+=1),{name:t,key:n,isListField:!0}})),l,t)}))))};var M=n(48285),N=n(5544),O=r.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),L=function(e){var t=e.validateMessages,n=e.onFormChange,i=e.onFormFinish,o=e.children,a=r.useContext(O),s=r.useRef({});return r.createElement(O.Provider,{value:(0,l.A)((0,l.A)({},a),{},{validateMessages:(0,l.A)((0,l.A)({},a.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:s.current}),a.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:s.current}),a.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(s.current=(0,l.A)((0,l.A)({},s.current),{},(0,p.A)({},e,t))),a.registerForm(e,t)},unregisterForm:function(e){var t=(0,l.A)({},s.current);delete t[e],s.current=t,a.unregisterForm(e)}})},o)};const T=O;var I=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"];const S=function(e,t){var n=e.name,a=e.initialValues,s=e.fields,u=e.form,c=e.preserve,d=e.children,f=e.component,v=void 0===f?"form":f,g=e.validateMessages,p=e.validateTrigger,m=void 0===p?"onChange":p,A=e.onValuesChange,h=e.onFieldsChange,C=e.onFinish,k=e.onFinishFailed,b=e.clearOnDestroy,V=(0,o.A)(e,I),R=r.useRef(null),P=r.useContext(T),E=(0,M.A)(u),x=(0,N.A)(E,1)[0],O=x.getInternalHooks(F.c),L=O.useSubscribe,S=O.setInitialValues,H=O.setCallbacks,_=O.setValidateMessages,W=O.setPreserve,D=O.destroyForm;r.useImperativeHandle(t,(function(){return(0,l.A)((0,l.A)({},x),{},{nativeElement:R.current})})),r.useEffect((function(){return P.registerForm(n,x),function(){P.unregisterForm(n)}}),[P,x,n]),_((0,l.A)((0,l.A)({},P.validateMessages),g)),H({onValuesChange:A,onFieldsChange:function(e){if(P.triggerFormChange(n,e),h){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];h.apply(void 0,[e].concat(r))}},onFinish:function(e){P.triggerFormFinish(n,e),C&&C(e)},onFinishFailed:k}),W(c);var K,U=r.useRef(null);S(a,!U.current),U.current||(U.current=!0),r.useEffect((function(){return function(){return D(b)}}),[]);var X="function"===typeof d;X?K=d(x.getFieldsValue(!0),x):K=d;L(!X);var j=r.useRef();r.useEffect((function(){(0,w.S5)(j.current||[],s||[])||x.setFields(s||[]),j.current=s}),[s,x]);var z=r.useMemo((function(){return(0,l.A)((0,l.A)({},x),{},{validateTrigger:m})}),[x,m]),B=r.createElement(y.Provider,{value:null},r.createElement(F.A.Provider,{value:z},K));return!1===v?B:r.createElement(v,(0,i.A)({},V,{ref:R,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),x.submit()},onReset:function(e){var t;e.preventDefault(),x.resetFields(),null===(t=V.onReset)||void 0===t||t.call(V,e)}}),B)};var H=n(16104),_=r.forwardRef(S);_.FormProvider=L,_.Field=E,_.List=x,_.useForm=M.A,_.useWatch=H.A;const W=_}}]);
//# sourceMappingURL=main-b38587c7.4286c4ba.js.map